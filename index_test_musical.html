<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Mélodrift 🎧</title>
  <link rel="stylesheet" href="style_test_musical.css">
</head>
<body>
  <header>
    <h1>Mélodrift 🎶</h1>
    <button id="toggleMode">🌙 Mode sombre</button>
  </header>

  <main>
    <!-- Barre de recherche -->
    <section id="searchSection">
      <input type="text" id="searchInput" placeholder="Rechercher une chanson...">
      <button id="searchBtn">🔍 Rechercher</button>
    </section>

    <!-- Résultats de recherche -->
    <section id="songResults" class="results">
      <!-- Résultats dynamiques ici -->
    </section>

    <!-- Lecteur musical -->
    <section id="musicPlayer" class="player">
      <img id="la_douceur_a_fleur_de_peau" src="melodrift.jpeg" alt="musique.jpeg">
      <h2 id="playerTitle">Sélectionnez une chanson</h2>

      <!-- Champ de sélection de fichier audio -->
      <label for="fileInput" class="btn">🎵 Choisir un son</label>
      <input type="file" id="fileInput" accept="audio/*" style="display: none;">

      <!-- Lecteur audio -->
      <audio id="audio" controls hidden></audio>

      <!-- Bouton lecture -->
      <button id="playBtn">▶️</button>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 VibeTunes - Tous droits réservés</p>
  </footer>

  <script src="script_test_musical.js"></script>
</body>
</html>
const audio = document.getElementById("audio");
const fileInput = document.getElementById("fileInput");
const playBtn = document.getElementById("playBtn");
const playerTitle = document.getElementById("playerTitle");
const toggleMode = document.getElementById("toggleMode");

// Lecture/Pause
playBtn.addEventListener("click", () => {
  if (audio.src) {
    if (audio.paused) {
      audio.play();
      playBtn.textContent = "⏸ Pause";
    } else {
      audio.pause();
      playBtn.textContent = "▶️ Lecture";
    }
  } else {
    alert("Veuillez d'abord choisir une chanson !");
  }
});

// Choix du fichier audio
fileInput.addEventListener("change", function () {
  const file = this.files[0];
  if (file) {
    const url = URL.createObjectURL(file);
    audio.src = url;
    audio.hidden = false;
    playerTitle.textContent = `🎶 ${file.name}`;
    audio.play();
    playBtn.textContent = "⏸ Pause";
  }
});

// Mode sombre / clair
toggleMode.addEventListener("click", () => {
  document.body.classList.toggle("dark");
  toggleMode.textContent = document.body.classList.contains("dark")
    ? "☀️ Mode clair"
    : "🌙 Mode sombre";
});
